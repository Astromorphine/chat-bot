# RAG Bot ‚Äî –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ —Å –ø–æ–∏—Å–∫–æ–º –ø–æ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π

[![Python](https://img.shields.io/badge/Python-3.10%2B-blue?logo=python)](https://python.org)
[![LangChain](https://img.shields.io/badge/LangChain-0.3%2B-purple?logo=langchain)](https://langchain.com)
[![LanceDB](https://img.shields.io/badge/LanceDB-VectorDB-green?logo=database)](https://lancedb.com)

Telegram-–±–æ—Ç —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Retrieval-Augmented Generation (RAG). –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–¥–∞–≤–∞—Ç—å –≤–æ–ø—Ä–æ—Å—ã, –∏—Å–∫–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π, –∑–∞–≥—Ä—É–∂–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç—ã, –ø–∞—Ä—Å–∏—Ç—å –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø–æ–∏—Å–∫ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ —á–µ—Ä–µ–∑ Tavily API.

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

–ë–æ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **5 —Ä–µ–∂–∏–º–æ–≤ —Ä–∞–±–æ—Ç—ã**:

| –†–µ–∂–∏–º | –û–ø–∏—Å–∞–Ω–∏–µ | –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ |
|-------|----------|------------------------|
| ‚ùì **–ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å** | –ü—Ä–æ—Å—Ç–æ–π –¥–∏–∞–ª–æ–≥ —Å –ò–ò –±–µ–∑ –¥–æ—Å—Ç—É–ø–∞ –∫ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π | LangGraph + ChatOpenAI (`gpt-4o-mini`) |
| üìù **–ü–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π** | RAG-–ø–æ–∏—Å–∫ –ø–æ –≤–∞—à–∏–º –¥–æ–∫—É–º–µ–Ω—Ç–∞–º —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–º –æ—Ç–≤–µ—Ç–æ–º | ReAct-–∞–≥–µ–Ω—Ç + LanceDB + OpenAI Embeddings |
| üì§ **–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª** | –û–±—Ä–∞–±–æ—Ç–∫–∞ PDF/DOCX/TXT ‚Üí –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î | PyMuPDF, python-docx, LangChain TextSplitter |
| üåê **–ü–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä–∞–Ω–∏—Ü—ã** | –°–∫–∞—á–∏–≤–∞–Ω–∏–µ + –æ—á–∏—Å—Ç–∫–∞ HTML ‚Üí —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ –ë–î | Requests/Playwright + BeautifulSoup |
| üåå **–ü–æ–∏—Å–∫ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ** | –ê–∫—Ç—É–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–π –ø–æ–∏—Å–∫ | Tavily API + ReAct-–∞–≥–µ–Ω—Ç |

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### –Ø–¥—Ä–æ
- **Python 3.10+**
- **LangChain / LangGraph** ‚Äî –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –∞–≥–µ–Ω—Ç–æ–≤ –∏ —Ü–µ–ø–æ—á–µ–∫
- **LanceDB** ‚Äî –ª–æ–∫–∞–ª—å–Ω–∞—è –≤–µ–∫—Ç–æ—Ä–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
- **OpenAI API** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ (`gpt-4o-mini`) –∏ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ (`text-embedding-3-large`)

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- **Telegram Bot API** (`python-telegram-bot`)
- **Tavily Search API** ‚Äî –ø–æ–∏—Å–∫ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ
- **Playwright** ‚Äî —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ JS-—Å–∞–π—Ç–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏ (`Protocol`)
- Dependency Injection —á–µ—Ä–µ–∑ `AppContext`
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∏–∞–ª–æ–≥–æ–≤ (`MemorySaver`)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/your-username/chat-bot-main.git
cd chat-bot-main
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python -m venv venv
# Linux/MacOS:
source venv/bin/activate
# Windows:
venv\Scripts\activate

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

### 4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Playwright (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è JS-—Å–∞–π—Ç–æ–≤)
playwright install chromium


### 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

TELEGRAM_TOKEN=your_telegram_bot_token
OPENAI_API_KEY=your_openai_api_key
TAVILY_API_KEY=your_tavily_api_key  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

üí° –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω—ã:
Telegram Bot: @BotFather
OpenAI: platform.openai.com
Tavily: tavily.com

### 6. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
python bot.py

–ë–æ—Ç –Ω–∞—á–Ω—ë—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã. –õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ logs/bot_YYYY-MM-DD.log.

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞
1. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram: @YourBotName
2. –ù–∞–∂–º–∏—Ç–µ Start –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º –∏–∑ –º–µ–Ω—é:

| –ö–Ω–æ–ø–∫–∞ | –î–µ–π—Å—Ç–≤–∏–µ |
|-------|----------|
| ‚ùì **–ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å** | –î–∏–∞–ª–æ–≥ —Å –ò–ò –±–µ–∑ –¥–æ—Å—Ç—É–ø–∞ –∫ –≤–∞—à–∏–º –¥–æ–∫—É–º–µ–Ω—Ç–∞–º |
| üìù **–ü–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π** | –ü–æ–∏—Å–∫ –æ—Ç–≤–µ—Ç–∞ –≤ –≤–∞—à–∏—Ö –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö |
| üì§ **–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª** | –û—Ç–ø—Ä–∞–≤—å—Ç–µ PDF/DOCX/TXT (–¥–æ 10 –ú–ë) |
| üåê **–ü–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä–∞–Ω–∏—Ü—ã** | –í—Å—Ç–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É |
| üåå **–ü–æ–∏—Å–∫ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ** | –ü–æ–∏—Å–∫ –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Tavily |

### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

| –†–µ–∂–∏–º | –î–µ–π—Å—Ç–≤–∏–µ |
|-------|----------|
| üìù **–ü–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ** | ¬´–†–∞—Å—Å–∫–∞–∂–∏ –ø—Ä–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É LangGraph¬ª |
| üåê **–ü–∞—Ä—Å–∏–Ω–≥** | https://lancedb.com/documentation/ |
| üåå **–ò–Ω—Ç–µ—Ä–Ω–µ—Ç** | ¬´–ü–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ –ø—Ä–æ RAG –≤ 2026 –≥–æ–¥—É¬ª |

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–ó–∞–ø—É—Å–∫ —é–Ω–∏—Ç-—Ç–µ—Å—Ç–æ–≤:
pytest tests/ -v
–¢—Ä–µ–±—É–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ pytest –∏ pytest-asyncio:
pip install pytest pytest-asyncio

### –ü–ª–∞–Ω—ã –ø–æ —É–ª—É—á—à–µ–Ω–∏—é
–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–∏—Å–∫ (–≤–µ–∫—Ç–æ—Ä–Ω—ã–π + BM25)
–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
–ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤
–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫—É/–¥–∞—Ç–µ
–≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π

### –õ–∏—Ü–µ–Ω–∑–∏—è
MIT License ‚Äî —Å–≤–æ–±–æ–¥–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è –ª–∏—á–Ω—ã—Ö –∏ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö —Ü–µ–ª–µ–π.
